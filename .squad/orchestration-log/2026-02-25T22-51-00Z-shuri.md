# Orchestration: Shuri ‚Äî Camera Frame Pipeline + Lighting UX Indicator

**Agent:** Shuri (Mobile Dev üë©‚Äçüíª)  
**Date:** 2026-02-25T22:51:00Z  
**Session:** squad-onnx-spike-and-camera-pipeline  
**Output:** PR #40 (squad/6-camera-pipeline)

## Summary

Camera frame pipeline architecture implemented with BGRA8888 contract formalized. Lighting UX indicator scaffold complete. IFrameSource interface defined (ready for iOS/Android platform implementation). SkiaSharpLightingAnalyzer classifies lighting quality via BT.601 luminance sampling. LightingIndicatorView XAML control displays warnings when lighting is suboptimal.

## Deliverables

- **Interface:** IFrameSource (pixel[], width, height, timestamp)
- **Model:** CameraFrame record carrier
- **Lighting:** ILightingAnalyzer interface + SkiaSharpLightingAnalyzer (BT.601 luminance, Good/TooDark/TooBright classification)
- **UX:** LightingIndicatorView XAML control with BindableProperty Quality
- **Documentation:** IResistorDetectionService XML docs updated with BGRA8888 mandate
- **DI:** ILightingAnalyzer registered as singleton in MauiProgram.cs

## Open Questions for Bruce

1. **Frame delivery timing:** At what frequency should IFrameSource deliver frames? (30 fps? adaptive?)
2. **Thread context:** Should frame delivery happen on main thread or background thread?
3. **Buffer ownership:** Who owns the byte[] buffer ‚Äî Shuri's iOS/Android code or Bruce's inference service?
4. **Resize location:** Should letterbox padding occur in IFrameSource (platform code) or in Bruce's ONNX preprocessing?

## Next Actions

1. Shuri: Await Bruce's answers on open questions
2. Shuri: Implement iOS/Android IFrameSource platform code (follow-up)
3. Shuri: Integrate LightingIndicatorView into camera view once frame pipeline online
4. Bruce: Review frame format & respond to open questions
